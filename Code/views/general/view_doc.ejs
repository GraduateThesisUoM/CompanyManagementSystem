<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create</title>
    <!--ajax-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!--CSS-->
    <link rel="stylesheet" href="general_css.css" />
    <link rel="stylesheet" href="create_doc_css.css" />
    <link rel="stylesheet" href="table_css.css" />

    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Asap+Condensed:wght@400;700&display=swap" rel="stylesheet" />

    <!--Header-->
    <%- include('../partials/header'); %>
  </head>
  <body>
    <div class="has_sidebar asap-condensed-extralight">
      <%- include('../partials/sidebar'); %>
      <div>
        <h1 id="list_header"></h1>
        <form action="/create-doc" method="POST" id="create_doc_form">
          <div id="doc_data" class="glass_efect_2">
            <div>
              <div>
                <label for="doc_date">Date : </label>
                <input type="date" id="doc_date" name="doc_date" class="my_input" required />
              </div>
              <div class="customer_div">
                <label id="from_label"><%=person_type%></label>
                <select name="customer_id" id="customer_id" class="my_input">
                  <% if (persons.length > 1) { %>
                  <option value="0">-</option>
                  <% } %> <% persons.forEach(function(person) { %>
                  <option value="<%= person.id %>"><%= person.name %></option>
                  <% }); %>
                </select>
              </div>
              <div class="warehouse_div">
                <label>Warehouse</label>
                <select name="warehouse_id" class="my_input">
                  <option value="0">-</option>
                  <% warehouses.forEach(function(warehouse) { %>
                  <option value="<%= warehouse.id %>"><%= warehouse.title %></option>
                  <% }); %>
                </select>
              </div>
              <div>
                <label class="wholesale_retail" for="wholesale_retail">Type : </label>
                <select class="wholesale_retail my_input" id="wholesale_retail" name="wholesale_retail">
                  <option value="0">wholesale</option>
                  <option value="1">Retale</option>
                </select>
              </div>
              <div>
                <label for="doc_series">Series : </label>
                <select id="doc_series" name="doc_series" class="my_input">
                  <% if (series_list.length > 1) { %>
                  <option value="0">-</option>
                  <% } %> <% series_list.forEach(function(s) { %>
                  <option value="<%= s._id %>"><%= s.acronym %> - <%= s.title %></option>
                  <% }); %>
                </select>
              </div>
              <div class="hide">-</div>
            </div>

            <div>
              <div>
                <label>Total Value : </label>
                <span>
                  <span id="doc_total_value">0.00</span>
                  <span style="text-indent: 5px;">€</span>
                </span>
              </div>
              <div>
                <label>Discount Value : </label>
                <span>
                  <span style="display: grid;grid-template-columns: 35% 30% 35%;">
                    <input id="general_discount" class="general_discount my_input" name="general_discount" type="number" value="0" min="0" max="100" required />
                    <span>€</span>
                    <input id="general_discount" class="general_discount my_input" name="general_discount" type="number" value="0" min="0" max="100" required />
                  </span>
                  <span style="text-indent: 5px;"><strong>%</strong></span>
                </span>
              </div>
              <div>
                <span>Total Cost : </span>
                <span><span id="doc_total_cost">0.00</span><span>€</span></span>
              </div>

              <div>
                <span>Total Discounts : </span>
                <span><span id="doc_total_disc">0.00</span><span>€</span></span>
              </div>
              <div>
                <span>Total Price after Discounts : </span>
                <span><span id="doc_total_after_disc">0.00</span><span>€</span></span>
              </div>
              <div>
                <span>Total Price after Tax : </span>
                <span><span id="doc_total_after_tax">0.00</span><span>€</span></span>
              </div>
            </div>

            <input type="text" id="doc_type" name="doc_type" style="display: none" />
            <input id="num_of_rows" name="num_of_rows" style="display: none" />
          </div>
          <div class="table_container">
            <table id="doc_table" class="my_table">
              <thead>
                <tr>
                  <th>A/A</th>
                  <th>Title</th>
                  <th>Qty</th>
                  <th>Tax</th>
                  <th>Discount</th>
                  <th>Discount %</th>
                  <th>U/P</th>
                  <th>Value</th>
                  <th>Price After Discount</th>
                  <th>Final Price</th>
                  <th></th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </form>
        <div id="doc_btn_container">
          <button id="clear">Clear</button>
          <button id="submit_btn">Register</button>
        </div>
      </div>
    </div>
  </body>

  <script type="text/javascript" src="JSDocumentFunctions.js"></script>
  <script>
    $(document).ready(function () {


        
    });
  </script>
</html>
